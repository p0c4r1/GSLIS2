object frmHomeService: TfrmHomeService
  Left = 0
  Top = 0
  ClientHeight = 592
  ClientWidth = 919
  Caption = 'Home Service'
  BorderStyle = bsDialog
  OldCreateOrder = False
  OnKeyDown = UniFormKeyDown
  MonitoredKeys.Keys = <>
  Font.Height = -16
  OnAfterShow = UniFormAfterShow
  PixelsPerInch = 96
  TextHeight = 19
  object UniContainerPanel1: TUniContainerPanel
    Left = 0
    Top = 528
    Width = 919
    Height = 64
    Hint = ''
    ParentColor = False
    Align = alBottom
    TabOrder = 0
    object btnAdd: TUniButton
      Left = 16
      Top = 16
      Width = 97
      Height = 33
      Hint = ''
      Caption = 'F1 Add'
      TabOrder = 1
      OnClick = btnAddClick
    end
    object btnAmbil: TUniButton
      Left = 119
      Top = 16
      Width = 97
      Height = 33
      Hint = ''
      Caption = 'F2 Ambil'
      TabOrder = 2
      OnClick = btnAmbilClick
    end
    object btnProses: TUniButton
      Left = 222
      Top = 16
      Width = 97
      Height = 33
      Hint = ''
      Caption = 'F3 Proses'
      TabOrder = 3
      OnClick = btnProsesClick
    end
    object btnCetak: TUniButton
      Left = 325
      Top = 16
      Width = 97
      Height = 33
      Hint = ''
      Caption = 'F6 Cetak'
      TabOrder = 4
      OnClick = btnCetakClick
    end
    object btnDelete: TUniButton
      Left = 428
      Top = 16
      Width = 97
      Height = 33
      Hint = ''
      Caption = 'F7 Delete'
      TabOrder = 5
      OnClick = btnDeleteClick
    end
  end
  object UniContainerPanel2: TUniContainerPanel
    Left = 526
    Top = 0
    Width = 393
    Height = 528
    Hint = ''
    ParentColor = False
    Align = alRight
    TabOrder = 1
    object mmCatatan: TUniMemo
      Left = 0
      Top = 3
      Width = 390
      Height = 89
      Hint = ''
      ParentFont = False
      Font.Height = -16
      Font.Name = 'Arial'
      Color = clCream
      TabOrder = 5
    end
    object mmAlamat: TUniMemo
      Left = 0
      Top = 98
      Width = 390
      Height = 89
      Hint = ''
      ParentFont = False
      Font.Height = -16
      Font.Name = 'Arial'
      Color = clCream
      TabOrder = 6
    end
    object UniLabel1: TUniLabel
      Left = 6
      Top = 195
      Width = 41
      Height = 19
      Hint = ''
      Caption = 'Nama'
      TabOrder = 7
    end
    object edNama: TUniEdit
      Left = 120
      Top = 193
      Width = 270
      Hint = ''
      Text = ''
      TabOrder = 8
      TabStop = False
      ReadOnly = True
    end
    object edKelamin: TUniEdit
      Left = 120
      Top = 221
      Width = 130
      Hint = ''
      Text = ''
      TabOrder = 9
      TabStop = False
      ReadOnly = True
    end
    object edUmur: TUniEdit
      Left = 256
      Top = 221
      Width = 134
      Hint = ''
      Text = ''
      TabOrder = 10
      TabStop = False
      ReadOnly = True
    end
    object edAlamat: TUniEdit
      Left = 120
      Top = 249
      Width = 270
      Hint = ''
      Text = ''
      TabOrder = 11
      TabStop = False
      ReadOnly = True
    end
    object edTelepon: TUniEdit
      Left = 120
      Top = 277
      Width = 270
      Hint = ''
      Text = ''
      TabOrder = 12
      TabStop = False
      ReadOnly = True
    end
    object edNoReg: TUniEdit
      Left = 120
      Top = 305
      Width = 270
      Hint = ''
      Text = ''
      TabOrder = 13
      TabStop = False
      ReadOnly = True
    end
    object mmIsiCatatan: TUniMemo
      Left = 120
      Top = 333
      Width = 270
      Height = 89
      Hint = ''
      TabOrder = 1
    end
    object UniLabel2: TUniLabel
      Left = 6
      Top = 222
      Width = 102
      Height = 19
      Hint = ''
      Caption = 'Kelamin/Umur'
      TabOrder = 14
    end
    object UniLabel3: TUniLabel
      Left = 6
      Top = 251
      Width = 50
      Height = 19
      Hint = ''
      Caption = 'Alamat'
      TabOrder = 15
    end
    object UniLabel4: TUniLabel
      Left = 6
      Top = 279
      Width = 57
      Height = 19
      Hint = ''
      Caption = 'Telepon'
      TabOrder = 16
    end
    object UniLabel5: TUniLabel
      Left = 6
      Top = 306
      Width = 98
      Height = 19
      Hint = ''
      Caption = 'No. Registrasi'
      TabOrder = 17
    end
    object UniLabel6: TUniLabel
      Left = 6
      Top = 332
      Width = 53
      Height = 19
      Hint = ''
      Caption = 'Catatan'
      TabOrder = 18
    end
    object UniLabel7: TUniLabel
      Left = 6
      Top = 430
      Width = 91
      Height = 19
      Hint = ''
      Caption = 'Waktu Ambil'
      TabOrder = 19
    end
    object btnCariPasien: TUniButton
      Left = 6
      Top = 472
      Width = 131
      Height = 33
      Hint = ''
      Caption = 'F4 Cari Pasien'
      TabOrder = 2
      OnClick = btnCariPasienClick
    end
    object UniButton2: TUniButton
      Left = 209
      Top = 472
      Width = 89
      Height = 33
      Hint = ''
      Caption = 'Save'
      TabOrder = 3
      OnClick = UniButton2Click
    end
    object btnCancel: TUniButton
      Left = 304
      Top = 472
      Width = 86
      Height = 33
      Hint = ''
      Caption = 'Cancel'
      TabOrder = 4
      OnClick = btnCancelClick
    end
    object edPasienId: TUniEdit
      Left = 73
      Top = 194
      Width = 41
      Hint = ''
      Visible = False
      Text = 'edPasienId'
      TabOrder = 20
    end
    object dtpWaktuAmbil: TUniDateTimePicker
      Left = 120
      Top = 428
      Width = 270
      Hint = ''
      DateTime = 43603.000000000000000000
      DateFormat = 'yyyy-MM-dd'
      TimeFormat = 'HH:mm:ss'
      Kind = tUniDateTime
      TabOrder = 21
    end
  end
  object UniContainerPanel3: TUniContainerPanel
    Left = 0
    Top = 0
    Width = 526
    Height = 528
    Hint = ''
    ParentColor = False
    Align = alClient
    TabOrder = 2
  end
  object UniDBGrid1: TUniDBGrid
    Left = 0
    Top = 0
    Width = 526
    Height = 528
    Hint = ''
    DataSource = dsPending
    Options = [dgTitles, dgIndicator, dgColumnResize, dgColLines, dgRowLines, dgRowSelect, dgConfirmDelete, dgAutoRefreshRow]
    ReadOnly = True
    WebOptions.Paged = False
    WebOptions.FetchAll = True
    LoadMask.Message = 'Loading data...'
    Align = alClient
    TabOrder = 3
    OnCellClick = UniDBGrid1CellClick
    Columns = <
      item
        FieldName = 'tanggal'
        Title.Caption = 'Tanggal'
        Width = 185
      end
      item
        FieldName = 'nama'
        Title.Caption = 'Nama'
        Width = 177
        ReadOnly = True
      end
      item
        FieldName = 'user_nama'
        Title.Caption = 'Diambil oleh'
        Width = 121
        ReadOnly = True
      end>
  end
  object cmdInsert: TFDCommand
    Connection = UniMainModule.FDConnection1
    CommandText.Strings = (
      
        'INSERT INTO home_service (tanggal,pasien_id,catatan,isi_user_id)' +
        ' VALUE (:tanggal,:pasien_id,:catatan,:isi_user_id)')
    ParamData = <
      item
        Name = 'TANGGAL'
        ParamType = ptInput
        Value = Null
      end
      item
        Name = 'PASIEN_ID'
        ParamType = ptInput
      end
      item
        Name = 'CATATAN'
        ParamType = ptInput
      end
      item
        Name = 'ISI_USER_ID'
        ParamType = ptInput
      end>
    Left = 512
    Top = 472
  end
  object qPending: TFDQuery
    Connection = UniMainModule.FDConnection1
    SQL.Strings = (
      
        'select h.id,p.nama,h.tanggal,h.catatan,h.flg_ambil,p.alamat ,p.t' +
        'elepon,p.hp,u.nama as user_nama,h.pasien_id'
      'from home_service h left join pasien p on h.pasien_id = p.id '
      
        'left join aguser u on h.ambil_user_id = u.id where h.flg_proses=' +
        #39'N'#39' '
      'order by h.tanggal')
    Left = 272
    Top = 400
  end
  object dsPending: TDataSource
    DataSet = qPending
    Left = 208
    Top = 440
  end
  object cmdAmbil: TFDCommand
    Connection = UniMainModule.FDConnection1
    CommandText.Strings = (
      
        'update home_service set ambil_user_id = :user_id,flg_ambil='#39'Y'#39' w' +
        'here id = :id')
    ParamData = <
      item
        Name = 'USER_ID'
        ParamType = ptInput
        Value = Null
      end
      item
        Name = 'ID'
        ParamType = ptInput
      end>
    Left = 152
    Top = 504
  end
  object cmdProses: TFDCommand
    Connection = UniMainModule.FDConnection1
    Left = 248
    Top = 496
  end
  object QPasien: TFDQuery
    Connection = UniMainModule.FDConnection1
    SQL.Strings = (
      'select distinct oh.pasien_id, '
      'p.jenis_kelamin_id,'
      
        'CONCAT(pf.nama,'#39' '#39', p.nama) nama,k.nama kelamin,p.telepon,p.hp,p' +
        '.noreg'
      
        ',p.alamat, CONCAT(TIMESTAMPDIFF( YEAR, p.tanggal_lahir, now() ),' +
        #39' th '#39',TIMESTAMPDIFF( MONTH, p.tanggal_lahir, now() ) % 12,'#39' bl ' +
        #39
      
        ',FLOOR( TIMESTAMPDIFF( DAY, p.tanggal_lahir, now() ) % 30.4375 )' +
        ') as umur  '
      ' from '
      ' order_header oh,'
      ' pasien p,'
      ' prefix pf,'
      ' jenis_kelamin k'
      ' where'
      ' oh.pasien_id = p.id'
      ' and p.prefix_id = pf.id'
      ' and p.jenis_kelamin_id = k.id'
      ' and oh.pasien_id = :pasien_id')
    Left = 584
    Top = 544
    ParamData = <
      item
        Name = 'PASIEN_ID'
        ParamType = ptInput
        Value = Null
      end>
  end
  object cmdDelete: TFDCommand
    Connection = UniMainModule.FDConnection1
    CommandText.Strings = (
      'delete from home_service where id = :id')
    ParamData = <
      item
        Name = 'ID'
        ParamType = ptInput
      end>
    Left = 456
    Top = 504
  end
  object qCetak: TFDQuery
    Connection = UniMainModule.FDConnection1
    SQL.Strings = (
      
        'select h.ambil_user_id, IFNULL(u.nama,'#39'Belum diambil'#39') user,h.ta' +
        'nggal,p.alamat, h.catatan,p.nama,p.telepon,p.hp from home_servic' +
        'e h join pasien p on h.pasien_id = p.id left join aguser u on h.' +
        'ambil_user_id = u.id  where h.flg_proses='#39'N'#39' order by h.tanggal')
    Left = 24
    Top = 216
  end
  object frxPDFExport1: TfrxPDFExport
    ExportNotPrintable = True
    UseFileCache = True
    ShowProgress = True
    OverwritePrompt = False
    DataOnly = False
    EmbeddedFonts = True
    PrintOptimized = True
    Outline = False
    Background = True
    HTMLTags = True
    Quality = 95
    Author = 'FastReport'
    Subject = 'FastReport PDF export'
    ProtectionFlags = [ePrint, eModify, eCopy, eAnnot]
    HideToolbar = True
    HideMenubar = True
    HideWindowUI = True
    FitWindow = True
    CenterWindow = True
    PrintScaling = True
    Left = 88
    Top = 216
  end
  object frxDBDataset1: TfrxDBDataset
    UserName = 'cetakHomeService'
    CloseDataSource = False
    FieldAliases.Strings = (
      'ambil_user_id=ambil_user_id'
      'user=user'
      'tanggal=tanggal'
      'alamat=alamat'
      'catatan=catatan'
      'nama=nama'
      'telepon=telepon'
      'hp=hp')
    DataSet = qCetak
    BCDToCurrency = False
    Left = 32
    Top = 144
  end
  object frxCetak: TfrxReport
    Version = '5.2.3'
    DotMatrixReport = False
    EngineOptions.DoublePass = True
    IniFile = '\Software\Fast Reports'
    PreviewOptions.Buttons = [pbPrint, pbLoad, pbSave, pbExport, pbZoom, pbFind, pbOutline, pbPageSetup, pbTools, pbEdit, pbNavigator, pbExportQuick]
    PreviewOptions.Zoom = 1.000000000000000000
    PrintOptions.Printer = 'Default'
    PrintOptions.PrintOnSheet = 0
    ReportOptions.CreateDate = 43541.105095486100000000
    ReportOptions.LastChange = 43604.231431770800000000
    ScriptLanguage = 'PascalScript'
    ScriptText.Strings = (
      'procedure ReportSummary1OnBeforePrint(Sender: TfrxComponent);'
      'begin'
      
        '  //Engine.CurY := Engine.CurY + Engine.FreeSpace - ReportSummar' +
        'y1.Height - 1;                                                  ' +
        '                                                                ' +
        '                                                   '
      'end;'
      ''
      'begin'
      ''
      'end.')
    Left = 80
    Top = 160
    Datasets = <
      item
        DataSet = frxDBDataset1
        DataSetName = 'cetakHomeService'
      end>
    Variables = <>
    Style = <>
    object Data: TfrxDataPage
      Height = 1000.000000000000000000
      Width = 1000.000000000000000000
    end
    object Page1: TfrxReportPage
      PaperWidth = 210.000000000000000000
      PaperHeight = 297.000000000000000000
      PaperSize = 9
      object ReportTitle1: TfrxReportTitle
        FillType = ftBrush
        Height = 45.354360000000000000
        Top = 18.897650000000000000
        Width = 793.701300000000000000
        object Memo1: TfrxMemoView
          Left = 11.338590000000000000
          Top = 11.338590000000000000
          Width = 771.024120000000000000
          Height = 22.677180000000000000
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -19
          Font.Name = 'Arial'
          Font.Style = []
          HAlign = haCenter
          Memo.UTF8W = (
            'LIST HOME SERVICE')
          ParentFont = False
        end
      end
      object GroupHeader1: TfrxGroupHeader
        FillType = ftBrush
        Height = 26.456710000000000000
        Top = 196.535560000000000000
        Width = 793.701300000000000000
        Condition = 'cetakHomeService."user"'
        object cetakHomeServicenama: TfrxMemoView
          Left = 7.559060000000000000
          Top = 3.000000000000000000
          Width = 393.071120000000000000
          Height = 18.897650000000000000
          DataSet = frxDBDataset1
          DataSetName = 'cetakHomeService'
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = [fsBold]
          Memo.UTF8W = (
            '[cetakHomeService."user"]')
          ParentFont = False
          VAlign = vaCenter
        end
        object Line3: TfrxLineView
          Top = 24.897650000000000000
          Width = 793.701300000000000000
          Color = clBlack
          Diagonal = True
        end
      end
      object Header1: TfrxHeader
        FillType = ftBrush
        Height = 49.133890000000000000
        Top = 124.724490000000000000
        Width = 793.701300000000000000
        object Memo2: TfrxMemoView
          Left = 3.779530000000000000
          Width = 128.504020000000000000
          Height = 45.354360000000000000
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = [fsBold]
          HAlign = haCenter
          Memo.UTF8W = (
            'Waktu ambil')
          ParentFont = False
          VAlign = vaCenter
        end
        object Memo3: TfrxMemoView
          Left = 136.063080000000000000
          Width = 230.551330000000000000
          Height = 45.354360000000000000
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = [fsBold]
          HAlign = haCenter
          Memo.UTF8W = (
            'Alamat')
          ParentFont = False
          VAlign = vaCenter
        end
        object Memo4: TfrxMemoView
          Left = 370.393940000000000000
          Width = 219.212740000000000000
          Height = 45.354360000000000000
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = [fsBold]
          HAlign = haCenter
          Memo.UTF8W = (
            'Catatan')
          ParentFont = False
          VAlign = vaCenter
        end
        object Memo5: TfrxMemoView
          Left = 589.606680000000000000
          Width = 204.094620000000000000
          Height = 45.354360000000000000
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = [fsBold]
          HAlign = haCenter
          Memo.UTF8W = (
            'Nama'
            'Telepon')
          ParentFont = False
          VAlign = vaCenter
        end
        object Line1: TfrxLineView
          Top = 46.574830000000000000
          Width = 793.701300000000000000
          Color = clBlack
          Diagonal = True
        end
        object Line2: TfrxLineView
          Width = 793.701300000000000000
          Color = clBlack
          Diagonal = True
        end
      end
      object MasterData1: TfrxMasterData
        FillType = ftBrush
        Height = 45.354360000000000000
        Top = 245.669450000000000000
        Width = 793.701300000000000000
        DataSet = frxDBDataset1
        DataSetName = 'cetakHomeService'
        RowCount = 0
        Stretched = True
        object cetakHomeServicetanggal: TfrxMemoView
          Left = 7.559060000000000000
          Width = 128.504020000000000000
          Height = 41.574830000000000000
          DataField = 'tanggal'
          DataSet = frxDBDataset1
          DataSetName = 'cetakHomeService'
          DisplayFormat.FormatStr = 'dd-mm-yyyy hh:mm:ss'
          DisplayFormat.Kind = fkDateTime
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = []
          Memo.UTF8W = (
            '[cetakHomeService."tanggal"]')
          ParentFont = False
          VAlign = vaCenter
        end
        object cetakHomeServicealamat: TfrxMemoView
          Left = 136.063080000000000000
          Width = 230.551330000000000000
          Height = 41.574830000000000000
          StretchMode = smMaxHeight
          DataField = 'alamat'
          DataSet = frxDBDataset1
          DataSetName = 'cetakHomeService'
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = []
          Memo.UTF8W = (
            '[cetakHomeService."alamat"]')
          ParentFont = False
          VAlign = vaCenter
        end
        object cetakHomeServicecatatan: TfrxMemoView
          Left = 370.393940000000000000
          Width = 219.212740000000000000
          Height = 41.574830000000000000
          StretchMode = smMaxHeight
          DataField = 'catatan'
          DataSet = frxDBDataset1
          DataSetName = 'cetakHomeService'
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = []
          Memo.UTF8W = (
            '[cetakHomeService."catatan"]')
          ParentFont = False
          VAlign = vaCenter
        end
        object cetakHomeServicealamat1: TfrxMemoView
          Left = 589.606680000000000000
          Width = 204.094620000000000000
          Height = 18.897650000000000000
          DataField = 'nama'
          DataSet = frxDBDataset1
          DataSetName = 'cetakHomeService'
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = []
          Memo.UTF8W = (
            '[cetakHomeService."nama"]')
          ParentFont = False
        end
        object cetakHomeServicetelepon: TfrxMemoView
          Left = 589.606680000000000000
          Top = 22.677180000000000000
          Width = 204.094620000000000000
          Height = 18.897650000000000000
          DataSet = frxDBDataset1
          DataSetName = 'cetakHomeService'
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -13
          Font.Name = 'Arial'
          Font.Style = []
          Memo.UTF8W = (
            '[cetakHomeService."telepon"] / [cetakHomeService."hp"]')
          ParentFont = False
        end
        object Line4: TfrxLineView
          Top = 45.354360000000000000
          Width = 793.701300000000000000
          Color = clBlack
          Diagonal = True
        end
      end
      object PageFooter1: TfrxPageFooter
        FillType = ftBrush
        Height = 22.677180000000000000
        Top = 351.496290000000000000
        Width = 793.701300000000000000
        object SysMemo1: TfrxSysMemoView
          Left = 699.213050000000000000
          Width = 94.488250000000000000
          Height = 18.897650000000000000
          Font.Charset = DEFAULT_CHARSET
          Font.Color = clBlack
          Font.Height = -11
          Font.Name = 'Arial'
          Font.Style = [fsItalic]
          HAlign = haCenter
          Memo.UTF8W = (
            '[PAGE#] of [TOTALPAGES#]')
          ParentFont = False
        end
      end
    end
  end
end
